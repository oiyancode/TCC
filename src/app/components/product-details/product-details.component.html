<app-navbar></app-navbar>

<div class="product-details">
  <!-- Background Yellow -->
  <div class="bg-yellow">
    <img src="/assets/BGs/BG_Yellow.svg" alt="Background" />
  </div>

  <!-- Conteúdo principal -->
  <main class="main-content" *ngIf="product">
    <!-- Seção Esquerda: Recomendados + Seletor de Tamanho -->
    <div class="left-section">
      <!-- Painel de Recomendados -->
      <div class="recommendations-panel">
        <h3>Produtos Recomendados</h3>
        
        <!-- Produtos Recomendados (2 colunas) -->
        <div class="recommended-products">
          <div class="product-thumb" *ngFor="let recommended of recommendedProducts" (click)="switchProduct(recommended.id)" style="cursor: pointer">
            <img [src]="recommended.imageSrc" [alt]="recommended.name" />
          </div>
        </div>
      </div>
    </div>

    <!-- Seção Central: Produto com BG -->
    <div class="center-section">
      <!-- Produto com Background -->
      <div class="product-display">
        <div class="product-bg">
          <img
            src="/assets/Section_Detalhes_Prod/bg_produto.png"
            alt="Product Background"
          />
        </div>

        <!-- Nome do Produto (dentro do BG) -->
        <h1 class="product-name">{{ product.name }}</h1>

        <!-- Descrição do Produto (agora abaixo do título) -->
        <p class="product-description">
          Produto de alta qualidade, perfeito para seu estilo.
        </p>
        <!-- Imagem do Produto -->
        <div class="product-image">
          <img [src]="product.imageSrc" [alt]="product.name" />
        </div>

      </div>
    </div>

    <!-- Seção Direita: Painel de Preço -->
    <div class="right-section">
      <div class="price-panel">
        <!-- Título -->
        <h3 class="size-title">Selecione o tamanho</h3>

        <!-- Seletor de Tamanho (SVG em 2 colunas) -->
        <div *ngIf="isVariantTenis; else singleSize">
          <div class="size-selector-grid">
            <div
              *ngFor="let size of shoeSizes"
              class="size-option"
              [class.selected]="size === selectedShoeSize"
              (click)="selectShoeSize(size)"
              style="cursor: pointer"
            >
              <img
                [src]="'/assets/Section_Detalhes_Prod/numeros_tenis/' + size + '.svg'"
                [alt]="'Tamanho ' + size"
              />
            </div>
          </div>
        </div>
        <ng-template #singleSize>
          <img src="/assets/btn_assets/icons_tamanho_Bolas_Skates.svg" alt="Tamanho Único" class="single-size-icon">
        </ng-template>

        <!-- Preço -->
        <p class="price">{{ product.price }}</p>

        <!-- Botão Adicionar ao Carrinho -->
        <div class="btn-add-sacola">
          <img
            [src]="isAddedToCart ? '/assets/icons/bag_buyed.svg' : '/assets/icons/bag_buy.svg'"
            alt="Adicionar ao Carrinho"
            class="btn-add-cart"
            [class.clicked]="isAddedToCart"
            (click)="handleAddToCart()"
            style="cursor: pointer"
          />
        </div>
      </div>
    </div>
  </main>

  <!-- Loading state -->
  <div *ngIf="!product" class="loading">Carregando produto...</div>
</div>
