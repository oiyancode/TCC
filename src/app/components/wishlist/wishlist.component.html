<app-navbar></app-navbar>

<div class="wishlist-page">
  <div class="wishlist-container">
    <div class="wishlist-header">
      <h1>Minha Lista de Desejos</h1>
      <p>Produtos que você salvou para depois</p>
    </div>

    <app-loading *ngIf="isLoading"></app-loading>

    <div *ngIf="!isLoading && wishlistProducts.length > 0" class="wishlist-content">
      <div class="wishlist-actions">
        <button class="btn-primary" (click)="addAllToCart()">
          Adicionar Todos ao Carrinho
        </button>
      </div>

      <div class="products-grid">
        <div *ngFor="let product of wishlistProducts" class="product-card">
          <button class="remove-btn" (click)="removeFromWishlist(product.id)" aria-label="Remover da lista">
            <img src="/assets/icons/trash.png" alt="Remover">
          </button>
          
          <div class="product-image" (click)="goToProduct(product.id)">
            <img [src]="product.imageSrc" [alt]="product.name" loading="lazy">
          </div>
          
          <div class="product-info">
            <h3 class="product-name">{{ product.name }}</h3>
            <p class="product-price">{{ product.price }}</p>
            
            <div class="product-actions">
              <button class="btn-secondary" (click)="goToProduct(product.id)">
                Ver Detalhes
              </button>
              <button class="btn-primary" (click)="addToCart(product)">
                Adicionar ao Carrinho
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="!isLoading && wishlistProducts.length === 0" class="empty-wishlist">
      <div class="empty-icon">
        <img src="/assets/icons/lista-de-desejos-3d-icon.png" alt="Lista vazia" width="120" height="120">
        
      </div>
      <h2>Sua lista de desejos está vazia</h2>
      <p>Adicione produtos que você gostou para salvá-los aqui!</p>
      <button class="btn-primary" (click)="continueShopping()">
        Explorar Produtos
      </button>
    </div>
  </div>
</div>
